
@{
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
}


@model HalloDoc.DAL.ViewModals.AdminDashBoardActions.NewRequestAction.ViewCasesViewModel;

<partial name="~/Views/AdminPartials/PopUpPartials/_CancelRequestPopup.cshtml" />
<partial name="~/Views/AdminPartials/PopUpPartials/_AssignCasePopUp.cshtml" />
<div class="container-fluid mt-5 mb-5">
    <!-- backbtn -->
    <div class="d-flex justify-content-center">
        <div class=" col-lg-8 col-md-8 col-sm-12 col-12 d-flex justify-content-between mb-3">

            <div class="h4">View Reservation (Patient)</div>
            <button onclick="BackDoc()" class="btn btn-outline-primary">
                <img src="/images/arrow_back_ios_FILL0_wght400_GRAD0_opsz24.svg" alt="" />
                back
            </button>
        </div>
    </div>
    <!-- form for submit -->
    <div class="d-flex justify-content-center">

        <form class="col-lg-8 col-md-8 col-sm-12 col-12 shadow min-vh-80 p-3 myform" id="ViewCaseForm"
              style="border-radius: 10px">
            <h5>Patient Information</h5>
            <p>Confirmation Number</p>
            <h5 style="color:#60cef3"> @Model.ConfirmationNumber</h5>
            <div class="form-floating mt-4 mb-4 col-12">
                <textarea asp-for="Notes" class="form-control" id="exampleFormControlTextarea09" rows="10"
                          placeholder="Patient Notes"></textarea>
                <label for="exampleFormControlTextarea09" class=" text-wrap">Patient Notes</label>
            </div>

            <div class="row mt-2 mb-2">
                <div class="col-12 col-md-6">
                    <div class="form-floating mb-4">
                        <input asp-for="FirstName" type="text" class="form-control" id="floatingInputz" placeholder="First Name" />
                        <label for="floatingInpuz">First Name</label>
                        <span style="color:indianred"></span>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="form-floating mb-4">
                        @* <input asp-for="RequestId" type="text" class="form-control" id="floatingInputx" placeholder="Last Name" hidden/> *@
                        <input asp-for="LastName" type="text" class="form-control" id="floatingInputx" placeholder="Last Name" />
                        <label for="floatingInputx">Last Name</label>
                        <span style="color:indianred"></span>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="form-floating mb-4">
                        <input type="date" class="form-control" id="floatingInputc" placeholder="Date" />
                        <label for="floatingInputc">Date</label>

                    </div>
                </div>

                <div class="col-12 col-md-6 d-flex">
                    <div class="col-8">
                        <div class="input-group form-floating mobilenumHolder mb-4">
                            <input asp-for="PhoneNumber" type="tel" id="PatientMobile" class="form-control Patientmobile pt-3 pb-3" required />
                            <span id="mobilePatientValidation" style="color:indianred"></span>
                        </div>
                    </div>
                    <div class="col-2 ms-2">
                        <button class="btn btn-outline-primary p-3" onclick="window.open('tel:@Model.PhoneNumber');">
                            <i class="bi bi-telephone"></i>
                        </button>
                    </div>

                </div>


                <div class="col-12 col-md-6">
                    <div class="form-floating mb-4">
                        <input asp-for="Email" type="email" class="form-control" id="PatientEmail" placeholder="Email" />
                        <label for="PatEmailv">Email</label>
                        <span asp-validation-for="Email" style="color:indianred"></span>
                    </div>
                </div>

                <div class="col-12 col-md-6">
                    <button id="Editbtn" class="btn btn-outline-primary p-3">
                        Edit
                    </button>

                    <button id="Submitbtn" type="submit" class="btn btn-outline-primary p-3">
                        Submit
                    </button>
                </div>
            </div>
            <h5>Location Information</h5>
            <div class="row mt-2">

                <div class="col-12 col-md-6">
                    <div class="form-floating mb-4">
                        <input asp-for="Region" type="text" class="form-control" id="floatingInput4k" placeholder="Region" />
                        <label for="floatingInput4k">Region</label>
                        <span style="color:indianred"></span>
                    </div>
                </div>

                <div class="col-12 col-md-6 d-flex">
                    <div class="form-floating mb-4 col-10">
                        <input asp-for="Business" type="text" class="form-control" id="floatingInput4k" placeholder="Business" />
                        <label for="floatingInput4k">Business</label>
                        <span style="color:indianred"></span>
                    </div>

                    <div class="form-floating mb-4 col-2 ms-2">
                        <a href="http://maps.google.com/?q={@Model.Business}" target="_blank" class="mapbtn btn btn-outline-primary p-3"><span><i class="bi bi-geo-alt"></i></span></a>
                    </div>
                </div>

                <div class="col-12 col-md-6">
                    <div class="form-floating mb-4">
                        <input asp-for="Room" type="text" class="form-control" id="floatingInput6h"
                               placeholder="Room # Suite (Optional)" />
                        <label for="floatingInput6h">Room # </label>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="d-flex justify-content-end">

                    @* <button id="AssignBtn" data-bs-toggle="modal" data-bs-target="#Assign-@uuid" class="btn btn-Primary p-3 ">Assign</button> *@
                    <button onclick="AssignModal(@Model.RequestId,'@Model.Region',event)" id="AssignBtn" class="btn btn-primary p-3 me-4">Assign</button>
                    <button onclick="ShowViewNotes(@Model.RequestId)" id="viewNotes" class="btn btn-primary p-3 me-4">View Notes</button>
                    <button id="Cancelbtn" onclick="CancelModal(@Model.RequestId, '@Model.FirstName' +' '+ '@Model.LastName')" class=" btn btn-danger p-3 text-white">Cancel</button>
                </div>
            </div>
        </form>
    </div>
</div>

@* <script src="/build/js/intlTelInput.js"></script> *@
<script src="/js/AdminScripts/AdminDashBoardScripts/ViewCaseScript.js"></script>
@{
    <partial name="_validationScriptsPartial" />
}
@* 
<script>

    $(document).ready(function () {
        let input1 = document.querySelector(".Patientmobile");

        const input1script =window.intlTelInput(input1, {
            utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@19.5.6/build/js/utils.js",
            preferredCountries: ["in"],
            separateDialCode: true,
            //initialCountry: "in"
        });
        $(".Patientmobile").on("keyup", function () {
            // console.log(input.isValidNumber());
            if (input1script.isValidNumber() == false) {
                $("#mobilePatientValidation").html("Phonenumber is not valid");
            }
            else {
                $("#mobilePatientValidation").html("");
            }
        });
    })
</script> *@
