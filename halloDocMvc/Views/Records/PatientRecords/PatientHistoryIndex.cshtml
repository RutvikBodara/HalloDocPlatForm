@model IEnumerable<HalloDoc.DAL.ViewModals.Records.PatientHistory>
<div class="container-fluid mt-lg-5 mt-sm-3 mb-5">

    <div class="d-flex justify-content-center">
        <div class="col-12 d-flex justify-content-between mb-3 mt-3">
            <div class="h4">Patient Records</div>
            <button onclick="$('#Patient-Records').click()" class="btn btn-outline-primary">
                <img src="/images/arrow_back_ios_FILL0_wght400_GRAD0_opsz24.svg" alt="" />
                back
            </button>
        </div>
    </div>

    <div class="d-none col-12 d-md-block table-responsive d-none d-md-block">
        <table class="table table-striped min-vh-100 table-responsive mt-3">
            <thead class="table-dark">
                <tr>
                    <td>Client/Member</td>
                    <td>Created Date</td>
                    <td>Confirmation</td>
                    <td>Provider Name</td>
                    <td>Concluded State</td>
                    <td>Status</td>
                    <td>Find Reports</td>
                    <td>Actions</td>
                </tr>
            </thead>
            <tboday>
                @foreach (var obj in Model)
                {
                    <tr>
                        <td>
                            @obj.Member
                        </td>
                        <td>
                            @obj.CreateDate
                        </td>
                        <td>
                            @if (obj.ConfirmationNumber != null)
                            {
                                @obj.ConfirmationNumber
                            }
                            else
                            {
                                <p>-</p>
                            }
                        </td>
                        <td>
                            @if (obj.Provider != null)
                            {
                                @obj.Provider
                            }
                            else
                            {
                                <p>-</p>
                            }
                        </td>
                        <td>
                            @if (obj.concludedDate != null)
                            {
                                @obj.concludedDate
                            }
                            else
                            {
                                <p>-</p>
                            }
                        </td>
                        <td>
                            @if (obj.status != null)
                            {
                                @obj.status
                            }
                            else
                            {
                                <p>-</p>
                            }
                        </td>
                        <td>
                            @if (obj.reportID != null)
                            {
                                @obj.reportID
                            }
                            else
                            {
                                <p>-</p>
                            }
                        </td>
                        <td>
                            <div class="btn-group">
                                <button type="button" class="btn btn-outline-primary" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false">
                                    Actions
                                </button>
                                <ul class="dropdown-menu dropdown-menu-lg-end">
                                    <li onclick="viewCases(@obj.requestid)"><button class="dropdown-item" type="button">View Case</button></li>
                                    <li onclick="View_Document(@obj.requestid,1)"><button class="dropdown-item" type="button"> (@obj.DocCount) View Uploads</button></li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                }
            </tboday>
        </table>
    </div>
    <div class="d-block d-md-none mt-3 p-2">
        @*
        <div class="d-flex justify-content-end mb-4">
        <button class="btn btn-primary m-2" id="createAccess"> create Access</button>
        </div>
        *@
        @foreach (var obj in Model)
        {
            var myuuid = Guid.NewGuid();
            var myid = "a" + myuuid;
            <div @* style="background-color:#e4f8ff" *@>
                <div class="shadow" style="border-radius:15px">
                    <div class="pt-2 ps-2" data-bs-toggle="collapse" href="#@myid" aria-expanded="false" aria-controls="#@myid">
                        <div class="mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#60cef3" class="bi bi-person-circle" viewBox="0 0 16 16">
                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
                            </svg> @obj.Member
                        </div>
                        <div class="mb-2">
                            <span class="fw-bolder">Confirmation Number:</span>
                            @if (obj.ConfirmationNumber != null)
                            {
                                @obj.ConfirmationNumber
                            }
                            else
                            {
                                <span>-</span>
                            }
                        </div>
                    </div>
                    <br />
                    <div class="collapse col-sm-12 ps-3 in ms-3 me-3 pb-3" id="@myid">
                        <div class="mb-2">
                            <span class="fw-bolder">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#60cef3" class="bi bi-calendar-week" viewBox="0 0 16 16">
                                    <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z" />
                                    <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z" />
                                </svg> Created Date:
                            </span>
                            @if (obj.CreateDate != null)
                            {
                                @obj.CreateDate
                            }
                            else
                            {
                                <span>-</span>
                            }
                        </div>
                        <div class="mb-2">
                            <span class="fw-bolder">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#60cef3" class="bi bi-person-circle" viewBox="0 0 16 16">
                                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                                    <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
                                </svg> Provider:
                            </span>
                            @if (obj.Provider != null)
                            {
                                @obj.Provider
                            }
                            else
                            {
                                <span>-</span>
                            }
                        </div>
                        <div class="mb-2">
                            <span class="fw-bolder">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#60cef3" class="bi bi-calendar-week" viewBox="0 0 16 16">
                                    <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z" />
                                    <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z" />
                                </svg> Concluded Date:
                            </span>
                            @if (obj.concludedDate != null)
                            {
                                @obj.concludedDate
                            }
                            else
                            {
                                <span>-</span>
                            }
                        </div>
                        <div class="mb-2">
                            <span class="fw-bolder">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#60cef3" class="bi bi-check-lg" viewBox="0 0 16 16">
                                    <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425z" />
                                </svg> Status:
                            </span>
                            @if (obj.status != null)
                            {
                                @obj.status
                            }
                            else
                            {
                                <span>-</span>
                            }
                        </div>
                        <div class="mb-2 d-flex justify-content-center">
                            <button class="w-100 m-2 btn btn-outline-primary" onclick="viewCases(@obj.requestid)">View Case</button>
                        </div>
                        <div class="mb-2 d-flex justify-content-center">
                            <button class="w-100 m-2 btn btn-outline-primary" onclick="View_Document(@obj.requestid,1)">(@obj.DocCount)Document</button>
                        </div>
                    </div>
                </div>
            </div>
            <br />
        }
    </div>
</div>
<script scr="/js/AdminScripts/AdminDashBoardScripts/ActionMenuScripts.js"></script>